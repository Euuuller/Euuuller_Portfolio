function y(){try{let g=function(){let n=m<576?.5:1;return{g1:{x:.8*n,y:.6*n},g2:{x:.6*n,y:.5*n},g3:{x:.9*n,y:.7*n},g4:{x:.5*n,y:.5*n}}};if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;let r=document.querySelector(".galaxy-bg");if(!r)return;let s=.5,x=.5,u=0,l=null,m=window.innerWidth,t=g(),c=e=>{let n=e.touches?e.touches[0].clientX:e.clientX,h=e.touches?e.touches[0].clientY:e.clientY;s=w(n/window.innerWidth,0,1),x=w(h/window.innerHeight,0,1)},a=()=>{let e=Math.max(1,document.documentElement.scrollHeight-window.innerHeight);u=w(window.scrollY/e,0,1)},d=()=>{m=window.innerWidth,t=g(),a()},v=()=>{let e=s-.5,n=u-.5;o("--g1-ox",e*t.g1.x+"%"),o("--g1-oy",n*t.g1.y+"%"),o("--g2-ox",e*t.g2.x+"%"),o("--g2-oy",n*t.g2.y+"%"),o("--g3-ox",e*t.g3.x+"%"),o("--g3-oy",n*t.g3.y+"%"),o("--g4-ox",e*t.g4.x+"%"),o("--g4-oy",n*t.g4.y+"%"),l=requestAnimationFrame(v)},o=(e,n)=>{r.style.setProperty(e,n)};d(),v(),window.addEventListener("mousemove",c,{passive:!0}),window.addEventListener("touchmove",c,{passive:!0}),window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",d),window.addEventListener("beforeunload",()=>{try{window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("scroll",a),window.removeEventListener("resize",d),l&&cancelAnimationFrame(l)}catch{}})}catch(i){console.error("Erro ao inicializar parallax das nebulosas:",i)}}function w(i,r,s){return Math.max(r,Math.min(s,i))}export{y as initGalaxyParallax};
